(function(a){var k="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";a.fn.imageLoaded=function(a,i){return this.imagesLoaded(i,a)};a.fn.imagesLoaded=function(l,i){function m(){var e=a(j),b=a(f);d&&(f.length?d.reject(c,e,b):d.resolve(c));a.isFunction(l)&&l.call(g,c,e,b)}function n(e){var b=this;e.target.src===k||-1!==a.inArray(b,h)||(h.push(b),"error"===e.type?f.push(b):j.push(b),a.data(b,"imagesLoaded",{event:e.type,src:b.src}),o&&d.notify(c.length,h.length,j.length,f.length),
c.length===h.length&&c.unbind(".imagesLoaded",n),arguments=[c,h.length,j.length,f.length],setTimeout(function(){a.isFunction(i)&&i.apply(b,arguments);c.length===++p&&m()}))}var g=this,d=a.isFunction(a.Deferred)?a.Deferred():0,o=a.isFunction(d.notify),c=g.find("img").add(g.filter("img")),h=[],j=[],f=[],p=0;0===c.length&&m();c.bind("load.imagesLoaded error.imagesLoaded",n).each(function(){var c=this.src,b=a.data(this,"imagesLoaded");b&&b.src==c?a(this).triggerHandler(b.event):(this.src=k,this.src=c)});
return d?d.promise(g):g}})(jQuery);
